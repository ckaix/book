这本小册我们先过了一遍 React 基础：

各种 hook、闭包陷阱、ts 类型、调试、受控/非受控模式、单测、Suspense、ErrorBoundary、React.Children、自定义 hooks 等。

然后写了很多组件：

包括 Calendar、Icon、Space、Watermark、Message、ColorPicker、Onboarding、Popover、Upload、Form 等组件。

Calendar：

![2024-08-31 19.02.47.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea06dfb5d53d49dcba4f04333c98014a~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=2860&h=1408&s=287481&e=gif&f=50&b=fdfdfd)

Message： ![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23725f6715f9461f859402de7ffb3660~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=1272&h=1266&s=387654&e=gif&f=70&b=fefefe) Watermark：

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/30ba9a7641954feeba8e50b70f33d7f7~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=2402&h=1272&s=344289&e=png&b=fefefe)

Upload 组件：

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66ed4f7cfe6342f88810fd972562d1a6~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=1330&h=874&s=466120&e=gif&f=41&b=fcfcfc)

ColorPicker： ![2024-08-31 18.35.50.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ff46a400d71b471ea9749c54f8e62712~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=874&h=822&s=442082&e=gif&f=61&b=fdfcfc)

OnBoarding：

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e0f003de2c8b4dc5b113f7da6a30f3d4~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=1740&h=1118&s=364599&e=gif&f=37&b=595959)

过程中涉及到了 React 的 hooks、context 等基础，封装了很多自定义 hooks。

我们还自己实现了一些 ahooks、react-use 里的自定义 hook。

写完这些组件和自定义 hook，想必你的 React 基础就已经很熟练了。

之后我们把这些组件爱你封装成组件库发到 npm 仓库，用 tsc + webpack 和 rollup 两种方案来做的组件库构建，分别构建出 commonjs、es module、umd 和 css 代码产物。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/56a21fed49604c0683d07d45d8cbebaf~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1706&h=840&s=215734&e=png&b=1d1d1d)

你也可以这样封装一个自己的组件库发个 npm 包。

我们又学习了 React 生态的各种库，包括 storybook 做组件库文档，react-spring 和 react-transition-group 做过渡动画，zustand 和 jotai 做状态管理库，react-intl 实现国际化，react-dnd 实现拖拽，react-flow 画流程图

Storybook：

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7a48537021a4eae8876da2e9dab240b~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=2170&h=1402&s=185281&e=png&b=ffffff)

react-dnd：

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/976ad015d5ca43089a3c2fab40c1d4d7~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=784&h=920&s=741118&e=gif&f=44&b=93d2ed)

react-flow：

![2024-08-30 08.24.31.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4330865bfb83401dbf81ac40945af092~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=2870&h=1536&s=1746933&e=gif&f=70&b=fbfbfb)

还有 css 的各种方案，包括 CSS Modules 做 css 模块化、tailwind 做原子化 css、styled-components 做 css in js 的方案

css modules：

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f23ef9d512548edaa70c78af6296db0~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=874&h=500&s=96859&e=png&b=202020)

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45fdac4c034f42ab9a3c1897dd1849dc~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1584&h=1228&s=252019&e=png&b=fefefe)

tailwind：

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/194dd9909f7145c38e4aee5ba5d74f06~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1394&h=416&s=83243&e=png&b=1f1f1f)

styled-components：

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d96fd1c12ee438ca7a1d85b23628e5a~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1100&h=906&s=143894&e=png&b=1f1f1f)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d1886d871df494191b27d5b25582a59~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=592&h=456&s=117069&e=png&b=f8f8fd)

react 的 css 管理方案还是挺多的。

之后我们做了两个大的项目实战， react playground 和 低代码编辑器：

playground：

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52a109156fe64a50908195131b8329f5~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=2858&h=1264&s=961512&e=gif&f=70&b=fefefe)

低代码编辑器：

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b45517d43b174af6961f9d4e30ae2cd7~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=2912&h=1502&s=979032&e=gif&f=69&b=fefefe)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89c6add9f0dc4e14bc778ff227601a98~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=2912&h=1502&s=777235&e=gif&f=69&b=fefefe)

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc85568bbdce4f74939b079d2114cd22~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.gif#?w=2912&h=1502&s=912462&e=gif&f=49&b=fefefe)

并且总结了如何写到简历里：

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f0f631a12fdb4752af0dce5f8d12b16f~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1414&h=748&s=226255&e=png&b=ffffff)

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d99fd0ef576e44cd9aa60d035f515976~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1436&h=602&s=175477&e=png&b=ffffff)

之后我们学习了 react 的实现原理，然后写一个 mini react 来把原理串了起来。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/529077a8fc0f4e06bb9440fc0b204b0c~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1830&h=930&s=245026&e=png&b=1d1d1d)

主要是理解 React Element、Fiber、时间分片、render（reconcile + schedule） + commit（before mutation、mutation、layout） 阶段等

也就是这些：

JSX 通过 babel、tsc 等编译器编译成 render function，然后执行后产生 React Element 的树。

React Element 的树会转成 fiber 链表，这个过程叫做 reconcile，由 React 的 Scheduler 调度。

reconcile 每次只处理一个 fiber 节点，通过时间分片把 reconcile 的过程分到多个任务跑，这样 fiber 树再大也不会阻塞渲染。

reconcile + schedule 这个过程叫做 render 阶段，而之后会进入 commit 阶段。

commit 阶段会遍历构建好的 fiber 链表，执行 dom 操作，还有函数组件的 effect 等。

它按照更新 dom 前后，分了 before mutation、mutation、layout 三个小阶段。

这就是 React 的 fiber 架构的渲染流程。

我们学完了 React 基础、写了各种组件，封装了组件库。

学了 React 生态的各种库，然后又做了 playground 和低代码编辑器这两个有技术难度的项目实战。

还深入了下 React 实现原理并写了一个 mini react。

相信学到这里，你对 React 的掌握就足够全面和深入，已经算是一个 React 高手了，可以有信心的应对各种 React 开发需求。